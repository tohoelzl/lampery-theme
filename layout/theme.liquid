<!DOCTYPE html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0">
  <meta name="theme-color" content="{{ settings.color_primary }}">

  <title>
    {{ page_title }}
    {%- if current_tags %} &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
    {%- if current_page != 1 %} &ndash; Page {{ current_page }}{% endif -%}
    {%- unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless -%}
  </title>

  {% if page_description %}
    <meta name="description" content="{{ page_description | escape }}">
  {% endif %}

  {% render 'meta-tags' %}

  <link rel="canonical" href="{{ canonical_url }}">
  <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>

  {%- if settings.favicon != blank -%}
    <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
  {%- endif -%}

  {% comment %} Preload critical fonts {% endcomment %}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  {{ content_for_header }}

  {% comment %} Theme CSS {% endcomment %}
  {{ 'base.css' | asset_url | stylesheet_tag }}
  {{ 'component-cart-drawer.css' | asset_url | stylesheet_tag }}

  {% comment %} CSS Variables from Theme Settings {% endcomment %}
  {%- liquid
    assign btn_style = settings.button_style | default: 'slightly_rounded'
    assign btn_hover = settings.button_hover_effect | default: 'fill_left'
    assign btn_speed = settings.button_hover_speed | default: 300

    case btn_style
      when 'rounded'
        assign btn_radius = '0.75rem'
      when 'slightly_rounded'
        assign btn_radius = '0.5rem'
      when 'square'
        assign btn_radius = '0'
      when 'pill'
        assign btn_radius = '9999px'
      else
        assign btn_radius = '0.5rem'
    endcase
  -%}
  {% style %}
    :root {
      --color-background: {{ settings.color_background }};
      --color-background-alt: {{ settings.color_background_alt }};
      --color-text: {{ settings.color_text }};
      --color-text-muted: {{ settings.color_text_muted }};
      --color-border: {{ settings.color_border }};
      --color-primary: {{ settings.color_primary }};
      --color-primary-light: {{ settings.color_primary_light }};
      --color-secondary: {{ settings.color_secondary }};
      --color-accent: {{ settings.color_accent }};
      --color-accent-soft: {{ settings.color_accent_soft }};

      --font-body-family: 'Manrope', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --font-heading-family: 'Manrope', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --font-body-size: {{ settings.type_base_size }}px;

      --button-radius: {{ btn_radius }};
      --button-hover-speed: {{ btn_speed }}ms;
    }

    /* Button Border Radius Override */
    .btn-primary,
    .btn-secondary,
    .btn-ghost {
      border-radius: var(--button-radius);
    }

    /* ==========================================
       Button Hover Effects
       ========================================== */

    {% if btn_hover != 'none' %}
    /* Base setup for fill effects */
    .btn-primary,
    .btn-secondary {
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .btn-primary::before,
    .btn-secondary::before {
      content: '';
      position: absolute;
      z-index: -1;
      transition: transform var(--button-hover-speed) ease;
    }
    {% endif %}

    {% case btn_hover %}
      {% when 'fill_left' %}
    /* Fill from Left */
    .btn-primary::before {
      inset: 0;
      background-color: var(--color-text);
      transform: translateX(-100%);
    }
    .btn-primary:hover::before {
      transform: translateX(0);
    }
    .btn-primary:hover {
      border-color: var(--color-text);
    }

    .btn-secondary::before {
      inset: 0;
      background-color: var(--color-primary);
      transform: translateX(-100%);
    }
    .btn-secondary:hover::before {
      transform: translateX(0);
    }
    .btn-secondary:hover {
      color: #ffffff;
      border-color: var(--color-primary);
    }

      {% when 'fill_right' %}
    /* Fill from Right */
    .btn-primary::before {
      inset: 0;
      background-color: var(--color-text);
      transform: translateX(100%);
    }
    .btn-primary:hover::before {
      transform: translateX(0);
    }
    .btn-primary:hover {
      border-color: var(--color-text);
    }

    .btn-secondary::before {
      inset: 0;
      background-color: var(--color-primary);
      transform: translateX(100%);
    }
    .btn-secondary:hover::before {
      transform: translateX(0);
    }
    .btn-secondary:hover {
      color: #ffffff;
      border-color: var(--color-primary);
    }

      {% when 'fill_top' %}
    /* Fill from Top (Guillotine) */
    .btn-primary::before {
      inset: 0;
      background-color: var(--color-text);
      transform: translateY(-100%);
    }
    .btn-primary:hover::before {
      transform: translateY(0);
    }
    .btn-primary:hover {
      border-color: var(--color-text);
    }

    .btn-secondary::before {
      inset: 0;
      background-color: var(--color-primary);
      transform: translateY(-100%);
    }
    .btn-secondary:hover::before {
      transform: translateY(0);
    }
    .btn-secondary:hover {
      color: #ffffff;
      border-color: var(--color-primary);
    }

      {% when 'fill_bottom' %}
    /* Fill from Bottom */
    .btn-primary::before {
      inset: 0;
      background-color: var(--color-text);
      transform: translateY(100%);
    }
    .btn-primary:hover::before {
      transform: translateY(0);
    }
    .btn-primary:hover {
      border-color: var(--color-text);
    }

    .btn-secondary::before {
      inset: 0;
      background-color: var(--color-primary);
      transform: translateY(100%);
    }
    .btn-secondary:hover::before {
      transform: translateY(0);
    }
    .btn-secondary:hover {
      color: #ffffff;
      border-color: var(--color-primary);
    }

      {% when 'fill_center' %}
    /* Fill from Center */
    .btn-primary::before {
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background-color: var(--color-text);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width var(--button-hover-speed) ease, height var(--button-hover-speed) ease;
    }
    .btn-primary:hover::before {
      width: 300%;
      height: 300%;
    }
    .btn-primary:hover {
      border-color: var(--color-text);
    }

    .btn-secondary::before {
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background-color: var(--color-primary);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width var(--button-hover-speed) ease, height var(--button-hover-speed) ease;
    }
    .btn-secondary:hover::before {
      width: 300%;
      height: 300%;
    }
    .btn-secondary:hover {
      color: #ffffff;
      border-color: var(--color-primary);
    }

      {% when 'shine' %}
    /* Shine Effect */
    .btn-primary::before,
    .btn-secondary::before {
      top: 0;
      left: -100%;
      width: 50%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transform: skewX(-25deg);
    }
    .btn-primary:hover::before,
    .btn-secondary:hover::before {
      left: 150%;
      transition: left var(--button-hover-speed) ease;
    }

      {% when 'scale' %}
    /* Scale Effect */
    .btn-primary:hover,
    .btn-secondary:hover {
      transform: scale(1.05);
    }
    .btn-primary::before,
    .btn-secondary::before {
      display: none;
    }

    {% endcase %}
  {% endstyle %}

  {% comment %} Alpine.js for interactivity {% endcomment %}
  <script defer src="https://unpkg.com/@alpinejs/collapse@3.14.3/dist/cdn.min.js"></script>
  <script defer src="https://unpkg.com/alpinejs@3.14.3/dist/cdn.min.js"></script>

  <script>
    document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
  </script>
</head>

<body class="template-{{ template.name | handle }}{% if template.suffix %} template-{{ template.name }}-{{ template.suffix | handle }}{% endif %}"
      x-data="{ mobileMenuOpen: false, searchOpen: false, cartOpen: false }">

  <a class="skip-link sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-primary focus:text-white focus:px-4 focus:py-2 focus:rounded" href="#main-content">
    {{ 'accessibility.skip_to_content' | t }}
  </a>

  {% sections 'header-group' %}

  <main id="main-content" class="site-main" role="main">
    {{ content_for_layout }}
  </main>

  {% sections 'footer-group' %}

  {% comment %} Cart Drawer {% endcomment %}
  {% render 'cart-drawer' %}

  {% comment %} Mobile Menu {% endcomment %}
  {% render 'mobile-menu' %}

  {% comment %} Search Overlay {% endcomment %}
  {% render 'search-overlay' %}

  {% comment %} Quick View Modal {% endcomment %}
  {% render 'quick-view-modal' %}

  {% comment %} Wishlist Functionality {% endcomment %}
  {% render 'wishlist' %}

  {% comment %} Back to Top Button {% endcomment %}
  <button
    x-data="{ show: false }"
    x-show="show"
    x-cloak
    @scroll.window="show = window.scrollY > 500"
    @click="window.scrollTo({ top: 0, behavior: 'smooth' })"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 translate-y-4"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 translate-y-4"
    class="fixed bottom-6 right-6 z-40 p-3 bg-primary text-white rounded-full shadow-lg hover:bg-primary-light transition-colors"
    aria-label="{{ 'general.back_to_top' | t }}"
  >
    {% render 'icon-arrow-up' %}
  </button>

  {% comment %} Theme Scripts {% endcomment %}
  <script src="{{ 'main.js' | asset_url }}" defer></script>

  {% comment %} Shopify Features {% endcomment %}
  <script>
    window.shopUrl = '{{ request.origin }}';
    window.routes = {
      cart_url: '{{ routes.cart_url }}',
      cart_add_url: '{{ routes.cart_add_url }}',
      cart_change_url: '{{ routes.cart_change_url }}',
      cart_update_url: '{{ routes.cart_update_url }}'
    };
    window.cartStrings = {
      error: `{{ 'cart.general.error' | t }}`,
      quantityError: `{{ 'cart.general.quantity_error' | t: quantity: '[quantity]' }}`
    };
  </script>
</body>
</html>
