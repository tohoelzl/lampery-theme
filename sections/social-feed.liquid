{% comment %}
  Social Media Feed Section - Converted from WooCommerce front-page.php Social Feed
{% endcomment %}

<section class="section">
  <div class="container mx-auto px-4 lg:px-8">

    {% comment %} Section Header {% endcomment %}
    <div class="section-header">
      <span class="inline-block text-sm font-medium text-primary uppercase tracking-wider mb-3">
        {{ section.settings.handle }}
      </span>
      <h2 class="section-title">{{ section.settings.title }}</h2>
      <p class="section-subtitle">
        {{ section.settings.description }}
      </p>
    </div>

    {% comment %} Social Media Grid {% endcomment %}
    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
      {% for block in section.blocks %}
        <a href="{{ section.settings.social_url | default: '#' }}"
           target="_blank"
           rel="noopener"
           class="group relative aspect-square bg-background-alt rounded-lg overflow-hidden"
           {{ block.shopify_attributes }}>

          {% if block.settings.image != blank %}
            <img
              src="{{ block.settings.image | image_url: width: 300 }}"
              alt="{{ block.settings.image.alt | default: 'Social Media' }}"
              width="300"
              height="300"
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
              loading="lazy"
            >
            {% comment %} Hover Overlay {% endcomment %}
            <div class="absolute inset-0 bg-text/0 group-hover:bg-text/20 transition-colors flex items-center justify-center">
              {% if section.settings.platform == 'instagram' %}
                {% render 'icon-instagram', class: 'w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity' %}
              {% elsif section.settings.platform == 'tiktok' %}
                {% render 'icon-tiktok', class: 'w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity' %}
              {% else %}
                {% render 'icon-facebook', class: 'w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity' %}
              {% endif %}
            </div>
          {% else %}
            <div class="w-full h-full flex items-center justify-center group-hover:bg-primary/10 transition-colors">
              {% if section.settings.platform == 'instagram' %}
                {% render 'icon-instagram', class: 'w-8 h-8 text-border group-hover:text-primary transition-colors' %}
              {% elsif section.settings.platform == 'tiktok' %}
                {% render 'icon-tiktok', class: 'w-8 h-8 text-border group-hover:text-primary transition-colors' %}
              {% else %}
                {% render 'icon-facebook', class: 'w-8 h-8 text-border group-hover:text-primary transition-colors' %}
              {% endif %}
            </div>
          {% endif %}
        </a>
      {% endfor %}
    </div>

    {% comment %} Follow Button {% endcomment %}
    <div class="text-center mt-8">
      <a href="{{ section.settings.social_url }}" target="_blank" rel="noopener" class="btn-ghost">
        {% if section.settings.platform == 'instagram' %}
          {% render 'icon-instagram', class: 'w-5 h-5 mr-2' %}
          {{ 'social.follow_instagram' | t }}
        {% elsif section.settings.platform == 'tiktok' %}
          {% render 'icon-tiktok', class: 'w-5 h-5 mr-2' %}
          {{ 'social.follow_tiktok' | t }}
        {% else %}
          {% render 'icon-facebook', class: 'w-5 h-5 mr-2' %}
          {{ 'social.follow_facebook' | t }}
        {% endif %}
      </a>
    </div>

  </div>
</section>

{% schema %}
{
  "name": "Social Media Feed",
  "class": "section-social-feed",
  "max_blocks": 6,
  "settings": [
    {
      "type": "header",
      "content": "Inhalt"
    },
    {
      "type": "text",
      "id": "handle",
      "label": "@Handle",
      "default": "@lampery"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Titel",
      "default": "Folge uns"
    },
    {
      "type": "text",
      "id": "description",
      "label": "Beschreibung",
      "default": "Entdecke unsere neuesten Kreationen und werde Teil unserer Community"
    },
    {
      "type": "header",
      "content": "Plattform"
    },
    {
      "type": "select",
      "id": "platform",
      "label": "Plattform",
      "options": [
        { "value": "instagram", "label": "Instagram" },
        { "value": "tiktok", "label": "TikTok" },
        { "value": "facebook", "label": "Facebook" }
      ],
      "default": "instagram"
    },
    {
      "type": "url",
      "id": "social_url",
      "label": "Profil URL"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Bild",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Bild"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Social Media Feed",
      "category": "Social",
      "blocks": [
        { "type": "image" },
        { "type": "image" },
        { "type": "image" },
        { "type": "image" },
        { "type": "image" },
        { "type": "image" }
      ]
    }
  ]
}
{% endschema %}
